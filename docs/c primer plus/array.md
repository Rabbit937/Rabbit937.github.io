# 数组与指针

## 数组

- 数组由数据类型相同的一系列元素组成。

```c
// 一些数组声明
int main(void) {
    float candy[365]    // 内含365个float类型的元素的数组
    char code[12]       // 内含12个char类型元素的数组 
    int states[50]      // 内含50个int类型元素的数组
}
```

使用数组下标(索引)表示数组中的各元素，数组编号从0开始。

### 初始化数组

```c
int main(void) {
    int powers[8] = {1,2,4,6,8,16,32,64}    // 从ANSI C开始支持这种初始化
}

// 推荐使用符号常量来表示数组大小,方便于管理
#define NUM 8

int main(void) {
    int powers[NUM] = {1,2,4,6,8,16,32,64}
}
```

- 使用const声明只读数组，不能把新值写入数组。

```c
#define MONTH 12

int main(void) {
    const int days[MONTH] = {31,28,31,30,31,30,31,31,30,31,30,31}
}
```

- 当我们使用数组前必须先初始化它。与普通变量类似，在使用数组元素之前，必须先给它们赋初值。编译器使用的值是内存相应位置上的现有值。[运行示例](http)。**注意存储类别的区别，这里使用的是自动存储类别。不同的存储类别有不同的属性，不能把此知识点推广到其他存储类别上。使用其他的存储类别时，如果在声明时未初始化，编译器会自动把它们的值设置为0。**

- 如果不初始化数组，数组元素和未初始化的普通变量一样，其中存储的都是垃圾值；但是，如果部分初始化数组，剩余的元素就会被初始化为0。

```c
#include<stdio.h>
#define NUM 8

int main(void) {
    int powers[NUM] = {1,2,4,6};
    int i;

    for(i = 0,i < NUM,i++) {
        printf("%d",powers[i]);
    } 

    return 0;
}

// 输出结果
1,2,4,6,0,0,0,0
```

- 如果初始化列表项多于数组元素的个数，编译报错

```c
#define NUM 8
int main(void) {
    int powers[NUM] = {1,2,3,4,5,6,7,8,9,10};
}
```

- 省略方括号中的数字，让编译器自动匹配数组大小和初始化列表中的项数

```c
int main(void) {
    int powers[] = {1,2,3,4,5,6,7,8,9,10};
}
```

